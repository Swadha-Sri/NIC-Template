{% extends 'base/dashboard_base.html' %}

{% block title %}Uploaded File Data | Dashboard{% endblock %}

{% block content %}
<div class="container my-5">
   <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="mb-0">{{ upload.original_filename }}</h3>
      <a href="{% url 'dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
   </div>

   <div class="card">
      <div class="card-header">
         <strong>Year:</strong> {{ upload.year_label }}
      </div>
      <div class="card-body p-0">
         <div class="table-responsive">
            <table class="table table-striped table-bordered mb-0">
               {% if headers %}
               <thead>
                  <tr>
                     {% for header in headers %}
                     <th>{{ header }}</th>
                     {% endfor %}
                  </tr>
               </thead>
               {% endif %}
               <tbody>
                  {% for row in table_rows %}
                  <tr>
                     {% for cell in row %}
                     <td>{{ cell }}</td>
                     {% endfor %}
                  </tr>
                  {% empty %}
                  <tr>
                     <td class="text-center text-muted py-3">No data found in this file.</td>
                  </tr>
                  {% endfor %}
               </tbody>
            </table>
         </div>
      </div>
   </div>
</div>
{% endblock %}
